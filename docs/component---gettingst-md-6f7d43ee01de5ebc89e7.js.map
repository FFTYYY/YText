{"version":3,"sources":["webpack:///../pictures/pic2.png","webpack:///../pictures/pic1.png","webpack:///../gettingst.md"],"names":["module","exports","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","alt","src","require","isMDXComponent"],"mappings":"gFAAAA,EAAOC,QAAU,IAA0B,oD,qBCA3CD,EAAOC,QAAU,IAA0B,oD,2NCM9BC,EAAe,QAAG,oNAC/B,IAAMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAW,GAGhC,IAFDC,EAAU,EAAVA,WACGC,EAAK,iBAER,OAAO,YAACJ,EAAS,eAAKD,EAAiBK,EAAK,CAAED,WAAYA,EAAYE,QAAQ,cAG5E,kBACE,GAAM,mBAAiB,mBAEzB,6GACA,kBACE,GAAM,gBAAc,gBAEtB,+CAA8B,iBAAGC,WAAW,IACxC,KAAQ,wBAAsB,SAChB,iDAClB,uBAAK,oBAAMA,WAAW,OAAK,+BAE3B,2DACA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,mCAGtC,kBACE,GAAM,6BAA2B,6BAEnC,iLACA,kBACE,GAAM,mBAAiB,mBAEzB,mEACA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,4FAMtC,gJACA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,0NAYtC,+PAEA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,sqBAmBtC,6JACA,kBACE,GAAM,oBAAkB,oBAE1B,kEAAiD,sBAAQA,WAAW,KAAG,eAAyB,0KAEhG,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,mPAYtC,kEAAiD,sBAAQA,WAAW,KAAG,WAAqB,4MACqB,sBAAQA,WAAW,KAAG,cAAwB,sBAAuB,0BAAYA,WAAW,KAAG,kBAAgC,qMAE5N,0BAAYA,WAAW,KAAG,kBAAgC,KAC9E,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,uGAGtC,wLAAuK,0BAAYA,WAAW,KAAG,2BAAyC,mDACxO,0BAAYA,WAAW,KAAG,kBAAgC,6CAC5D,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,2uBAwBtC,0IACA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,ihBAkBtC,kGACA,kBACE,GAAM,mBAAiB,mBAEzB,4HACA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,qOAUtC,kBACE,GAAM,iCAA+B,iCAEvC,mIACA,uBAAK,oBAAMA,WAAW,MAClB,UAAa,uBAAqB,w6FAmFtC,wEACF,mBAAKC,IAAI,QAAQC,IAAKC,EAAQ,UAA0B,uJAGxD,mBAAKF,IAAI,QAAQC,IAAKC,EAAQ,iBAG/B,kNAEDP,EAAWQ,gBAAiB","file":"component---gettingst-md-6f7d43ee01de5ebc89e7.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/pic2-febe3b01e902e26775305b32eda5a3f3.png\";","module.exports = __webpack_public_path__ + \"static/pic1-3b8ad06efd96186ef571a6d42d6cd161.png\";","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"E:/Coding/Projects/YText/mydoc/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting Started`}</h1>\n    <p>{`In this page, we show the basic usage of YText by creating a simple example project.`}</p>\n    <h2 {...{\n      \"id\": \"installation\"\n    }}>{`Installation`}</h2>\n    <p>{`Make sure you are in a `}<a parentName=\"p\" {...{\n        \"href\": \"https://reactjs.org/\"\n      }}>{`React`}</a>{` project and simply use npm to install YText:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`npm install @ftyyy/ytext\n`}</code></pre>\n    <p>{`and can import ytext in your code:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import * from \"@ftyyy/ytext\"\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"use-ytext-in-your-project\"\n    }}>{`Use YText in your Project`}</h2>\n    <p>{`In this section, we set up an example project to show how to use YText. There are three major steps: create concepts, create printer, and create editor.`}</p>\n    <h3 {...{\n      \"id\": \"create-concepts\"\n    }}>{`Create Concepts`}</h3>\n    <p>{`First import necessary classes from YText:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import {\n    FirstClassConcept , \n    SecondClassConcept ,  \n} from \"@ftyyy/ytext\"\n`}</code></pre>\n    <p>{`Then create a first class concept, say we want to write a mathmatics paper, hence we create a concept for propositions:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`let math = new FirstClassConcept({\n    type:\"group\" , \n    name: \"math\" , \n    parameter_prototype: {\n        name: {\n            val: \"Proposition\", \n            type: \"string\" , \n        } , \n    }\n})\n`}</code></pre>\n    <p>{`As we know, there are different types of propositions in a mathmatics paper (e.g. Theorems, Lemmas, Corollaries).\nWe create a second class concept that inherits the first class concept we just created and override its parameters:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`let theorem = new SecondClassConcept({\n    type: \"group\" , \n    first_concept: \"math\" , // each first class concept is referred by its type and name.\n    name: \"theorem\" , \n    default_override: { // parameters that allow users to determine.\n        alias: {\n            val: \"\" , \n            type: \"string\" , \n        } , \n    } , \n    fixed_override: { // assigning values to the first class concept parameters.\n        name: { \n            val: \"p => p.alias.val ? \\`Theorem (\\${p.alias.val})\\` : 'Theorem'\" , \n            type: \"function\" , // this type allow dynamic value that depends on the parameters of the second class concept\n        }\n    }\n})\n`}</code></pre>\n    <p>{`(Actually, this is not the best way to define a theorem concept. Here I just want to display the usage of function-type parameters.)`}</p>\n    <h3 {...{\n      \"id\": \"creating-printer\"\n    }}>{`Creating Printer`}</h3>\n    <p>{`Next, we need to define how to transfer a `}<strong parentName=\"p\">{`first class`}</strong>{` concept node into a visual element (A node in React).\nYText provides abundant tools to develop your own printer. First we need to import the tools that we will use:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import {\n    PreprocessInformation , \n    GroupNode , \n\n    OrderContexter , \n    get_default_group_renderer , \n    DefaultAbstractRendererAsProperty , \n    PrinterStructureBoxText , \n    PrinterPartBox , \n} from \"@ftyyy/ytext\"\n`}</code></pre>\n    <p>{`When rendering nodes, YText use so called `}<strong parentName=\"p\">{`context`}</strong>{` to let each node know its position in the article and its relationship with others.\nThe detailed machanisms will be introduced later. YText have numerous tools to help build context. They are called `}<strong parentName=\"p\">{`contexters`}</strong>{`. Here we will use `}<inlineCode parentName=\"p\">{`OrderContexter`}</inlineCode>{`, that allows a node to know its number in the article\n(for example we might want to start a theorem with: \"Thm 1: xxx\", obviously we don't want to number it manually).\nWe can first create a `}<inlineCode parentName=\"p\">{`OrderContexter`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`let number_gene = (info:PreprocessInformation<GroupNode>)=>new OrderContexter<GroupNode>(\"math\")\n`}</code></pre>\n    <p>{`Notice that contexters are stateless, so we always create them by functions. Next, we can create a printer. We can use tools that offered by YText. For example `}<inlineCode parentName=\"p\">{`PrinterStructureBoxText`}</inlineCode>{` provides a special style for title texts,\nand `}<inlineCode parentName=\"p\">{`PrinterPartBox`}</inlineCode>{` provides a margin style for group nodes.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`let math_printer = get_default_group_renderer({\n\n    // contexters that will be used to creat context.\n    contexters: [ \n        number_gene, \n    ] , \n\n    // the element to start with.\n    pre_element: (info: PreprocessInformation<GroupNode>) => {\n        let {node , context , parameters , env} = info\n\n        let number = number_gene(info).get_context(context) // generate number.\n        let name = parameters.name // get name from parameters.\n        \n        return <PrinterStructureBoxText inline>{\\`\\${name} (\\${number})\\`}</PrinterStructureBoxText>\n    } , \n\n    // the box that contains the node\n    outer: (props) => {\n        return <PrinterPartBox subtitle_like>{props.children}</PrinterPartBox>\n    } , \n})\n`}</code></pre>\n    <p>{`We will also need to create default renderers for all the node types. YText also provides tools to simplify that:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import {\n    get_default_paragraph_renderer , \n    useless_renderer_block , \n    useless_renderer_inline , \n    useless_renderer_text , \n} from \"@ftyyy/ytext\"\n\nlet default_renderers = {\n    \"group\"     : useless_renderer_block , \n    \"structure\" : useless_renderer_block , \n    \"support\"   : useless_renderer_block , \n    \"abstract\"  : useless_renderer_block , \n    \"paragraph\" : get_default_paragraph_renderer({}) , \n    \"inline\"    : useless_renderer_inline , \n    \"text\"      : useless_renderer_text , \n}\n`}</code></pre>\n    <p>{`When YText see a undefined concept, the default printers will be in use. `}</p>\n    <h3 {...{\n      \"id\": \"creating-editor\"\n    }}>{`Creating Editor`}</h3>\n    <p>{`Next, let's create editors. We can directly use the default editor implementation provide by YText.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import {\n    get_deafult_group_editor_with_appbar , \n    get_default_editors , \n} from \"@ftyyy/ytext\"\n\nlet math_editor  = get_deafult_group_editor_with_appbar({\n    get_label: (node,parameters) => parameters.name\n})\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"combining-everything-together\"\n    }}>{`Combining Everything Together`}</h3>\n    <p>{`Now we have almost done. Let's write a full component with concepts, printers and editors we just defined.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import {\n    Printer , \n    EditorCore , \n    AbstractNode , \n    PrinterCache , \n    DefaultPrinterComponent , \n    DefaultEditorComponent , \n} from \"@ftyyy/ytext\"\n\nclass App extends React.Component<{} , {\n    tree: AbstractNode\n}>{\n    editor_ref : React.RefObject<DefaultEditorComponent> // reference to editor component.\n    printer: Printer\n    editorcore: EditorCore\n    constructor(props: any){\n        super(props)\n\n        let me = this\n\n        // build printer.\n        this.printer = new Printer(\n            [math] ,    // feed in first class concepts.\n            [theorem] , // feed in second class concepts.\n            {           // feed in all renderers.\n                group: {\n                    \"math\": math_printer , \n                } , \n                structure: {} , inline: {} , support: {} , abstract: {} , \n            } , \n            default_renderers , // feed in all default renderers.\n        )\n\n        // build editor core.\n        this.editorcore = new EditorCore({\n            renderers: { // put in renderers.\n                group: {\n                    math: math_editor , \n                } , structure: {} , inline: {} , support: {} , abstract: {} , \n            } , \n            default_renderers: get_default_editors(), // feed in default renderers, this is defined by YText.\n            printer: me.printer , // feed in the printer.\n        })\n        \n        // initialize the inermediate tree.\n        this.state = {\n            tree: this.editorcore.create_abstract(\"root\")\n        }\n\n        this.editor_ref = React.createRef()\n    }\n\n    render(){\n        let me = this\n        return <div>\n                    \n            <div style = {{position: \"absolute\", width: \"48%\", left: \"1%\", top: \"1%\", height: \"98%\"}}>\n                <DefaultEditorComponent // editor component.\n                    ref = {me.editor_ref}\n                    editorcore = {me.editorcore} // input editor core.\n\n                    // This is the initialization of editor, the updates in the tree will not trigger rerendering.\n                    init_rootchildren = {me.state.tree.children} \n\n                    onSave = {()=>{ // the callback function whem ctrl+S is pressed.\n                        me.setState({tree: me.editor_ref.current.get_root() as AbstractNode})\n                        // save the tree to backend.\n                        // save(me.state.tree)\n                    }}\n                />\n            </div>\n\n            <div style = {{position: \"absolute\", width: \"48%\", left: \"51%\", top: \"1%\", height: \"98%\",}} >\n                <DefaultPrinterComponent // printer component.\n                    printer = {me.printer} // input printer core.\n                    root = {me.state.tree} // the update of state.tree will trigger rerenderring of Printer.\n                ></DefaultPrinterComponent>\n            </div>\n        </div>\n    }\n}\n`}</code></pre>\n    <p>{`It will result in a React component like this:\n`}<img alt=\"img-1\" src={require(\"./pictures/pic1.png\")} />{`\nThe left part is the editing area, where we can write texts and add theorems.\nWhen pressing ctrl+s, the printer (on the right) will be updated:\n`}<img alt=\"img-2\" src={require(\"./pictures/pic2.png\")} /></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}